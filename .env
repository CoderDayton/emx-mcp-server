# EMX MCP Server - Default Configuration
#
# These are the default values used by the server.
#
# To customize: Add environment variables to your MCP client configuration
# under the "env": {} section - those values will override these defaults.
#
# Example:
# {
#   "mcpServers": {
#     "emx-memory": {
#       "command": "uvx",
#       "args": ["emx-mcp-server"],
#       "env": {
#         "EMX_MODEL_DEVICE": "cuda",
#         "EMX_MEMORY_GAMMA": "1.5"
#       }
#     }
#   }
# }
#
# ðŸ“– See ENVIRONMENT_VARIABLES.md for complete documentation

# ============================================================
# Model Configuration
# ============================================================
EMX_MODEL_NAME=all-MiniLM-L6-v2
# EMX_MODEL_DEVICE=cuda
# EMX_MODEL_CPU_BATCH_SIZE=64

# ============================================================
# Memory Configuration
# ============================================================
EMX_MEMORY_GAMMA=1.0
EMX_MEMORY_CONTEXT_WINDOW=10
EMX_MEMORY_WINDOW_OFFSET=128
EMX_MEMORY_MIN_BLOCK_SIZE=8
EMX_MEMORY_MAX_BLOCK_SIZE=128
EMX_MEMORY_N_INIT=128
EMX_MEMORY_N_LOCAL=4096
EMX_MEMORY_N_MEM=2048
EMX_MEMORY_REPR_TOPK=4
EMX_MEMORY_REFINEMENT_METRIC=modularity

# ============================================================
# Storage Configuration
# ============================================================
EMX_STORAGE_VECTOR_DIM=384
EMX_STORAGE_NPROBE=8
EMX_STORAGE_DISK_OFFLOAD_THRESHOLD=300000
EMX_STORAGE_MIN_TRAINING_SIZE=1000
EMX_STORAGE_INDEX_TYPE=IVF
EMX_STORAGE_METRIC=cosine

# ============================================================
# GPU Configuration
# ============================================================
EMX_GPU_ENABLE_PINNED_MEMORY=False
EMX_GPU_PINNED_BUFFER_SIZE=4
EMX_GPU_PINNED_MAX_BATCH=256
EMX_GPU_PINNED_MIN_BATCH_THRESHOLD=64

# ============================================================
# Logging Configuration
# ============================================================
EMX_LOGGING_LEVEL=INFO
EMX_LOGGING_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ============================================================
# Metrics Configuration (OpenTelemetry)
# ============================================================
OTEL_SERVICE_NAME=emx-mcp-server
OTEL_ENVIRONMENT=development
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/metrics
OTEL_METRIC_EXPORT_INTERVAL=10000

# Console metrics exporter (writes to stderr, opt-in for debugging)
# IMPORTANT: MCP servers use STDIO transport (stdout = JSON-RPC protocol).
# Console exporter writes to stderr to avoid protocol interference.
# For production, use OTLP exporter instead (set OTEL_EXPORTER_OTLP_ENDPOINT).
OTEL_METRICS_CONSOLE=false

# ============================================================
# Runtime Paths
# ============================================================
# EMX_PROJECT_PATH=/path/to/your/project
# EMX_GLOBAL_PATH=/path/to/global/memories
