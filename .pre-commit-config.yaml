repos:
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.14.2
    hooks:
      - id: ruff-format
        name: Format code with ruff
      - id: ruff
        name: Lint code with ruff
        args: [--fix]

  - repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.18.2
    hooks:
      - id: mypy
        name: Type check with mypy
        args: [--strict, --ignore-missing-imports]
        additional_dependencies:
          - types-pygments>=2.19.0.20250809
          - types-pexpect>=4.9.0.20250916
          - types-psutil>=7.0.0.20251001
        files: ^emx_mcp/

  - repo: https://github.com/PyCQA/bandit
    rev: 1.8.6
    hooks:
      - id: bandit
        name: Security scan with bandit
        args: [-c, pyproject.toml, -r, emx_mcp]
        additional_dependencies: ["bandit[toml]"]
